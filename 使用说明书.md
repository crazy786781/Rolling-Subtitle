地震预警及情报实况栏 · 使用说明书

一、软件简介

地震预警及情报实况栏是一款基于 Python 开发的实时地震信息显示程序，通过 WebSocket 连接多个数据源，实时接收并滚动显示地震预警、速报和气象预警信息。程序采用 PyQt5 框架构建，具有流畅的滚动动画效果和丰富的自定义选项。

主要用途：
（1）实时接收地震预警信息
（2）轮播展示各地震速报
（3）展示气象预警（含预警图片）
（4）可选：非预警时滚动显示自定义文本

二、主界面与基本操作

主界面
（1）主界面是一个可拖拽、可调整大小的滚动字幕窗口
（2）默认黑色背景，文字按类型使用不同颜色（预警为红色，速报为青色）
（3）有地震预警时，预警会优先显示；无预警时轮播显示速报或气象预警

右键菜单
在窗口任意位置右键点击，会弹出菜单。
（1）设置：打开设置窗口，可修改外观、数据源、翻译、日志等
（2）退出：关闭程序

三、显示内容说明

软件会显示以下类型的信息：
（1）地震预警：地震发生前或发生时的快速预警，典型颜色为红色
（2）地震速报：各机构发布的震情速报、正式测定，典型颜色为青色
（3）气象预警：暴雨、大风等气象预警，可带图片，典型颜色为黄色
（4）自定义文本：无预警时显示的您自己输入的文字，颜色可自定义

显示规则：
（1）有预警时：优先显示预警，预警轮播完后再显示速报
（2）无预警时：轮播显示速报，或显示您设定的自定义文本
（3）收到日本气象厅取消报时：会立即展示"收到取消报，撤回当前预警"

四、设置功能

通过右键菜单 → 设置 打开设置窗口。设置分为多个标签页。修改后需点击「保存」按钮，大部分设置会立即生效，无需重启。

1. 外观与显示

滚动速度：控制文字在窗口内滚动的快慢。取值范围 0.1 至 20.0，数值越大滚动越快。适合根据观看距离和阅读习惯调整。

字体大小：控制显示文字的磅值。取值范围 10 至 100 像素，可根据屏幕分辨率和视力需求调节。

显示时区：选择地震发震时间、速报时间等所采用的时区。如北京时间、东京时间、UTC 等。修改后需重启软件生效。

窗口宽度：字幕窗口的水平宽度。取值范围 800 至 3000 像素，可按显示器或直播需求调整。

窗口高度：字幕窗口的垂直高度。取值范围 100 至 500 像素。

窗口透明度：控制整个窗口的透明程度。0.1 为几乎透明，1.0 为完全不透明，便于叠加在其它画面上使用。

渲染方式：CPU 渲染（软件）兼容性更好，适合老旧电脑；GPU 渲染（OpenGL）利用显卡加速，画面更流畅。修改后需重启软件生效。

垂直同步：开启后，滚动动画会与显示器刷新率同步，减少画面撕裂和跳帧；关闭则可追求更高帧率。

目标帧率：设定程序试图达到的刷新帧率，范围为 1 至 240 fps。开启垂直同步时，实际帧率通常会跟随显示器。

地震信息颜色：地震速报、正式测定等非预警类信息的文字颜色。可点击「修改颜色」选择，或「恢复默认」还原。

地震预警颜色：地震预警类信息的文字颜色，通常设为醒目的红色。

自定义文本颜色：当选择「自定义文本」模式时，无预警状态下所显示文字的颜色。

自定义文本：当在「数据源」中选择「自定义文本」后，此处输入的内容将在无预警时滚动显示。可用于展示自定义标语、提示语等。

2. 数据源

用于选择要接收哪些机构的地震预警和速报。修改数据源后需重启程序生效。

地震预警：
（1）Fan Studio 预警：默认开启，汇总中国地震预警网、四川、台湾、日本、美国等多机构预警数据
（2）Wolfx 系列：四川、日本气象厅、福建、中国地震台网、台湾等机构的 HTTP 或 WSS 数据源，默认关闭
（3）NIED 日本防災科研所：日本防灾科研所预警数据，默认关闭

非预警时显示：
（1）地震速报：无预警时轮播显示各机构速报（默认选项）
（2）自定义文本：无预警时只显示您在「外观与显示」中填写的文本，不显示速报

地震历史 / 速报：
（1）Fan Studio 速报：中国地震台网中心、各省地震局、台湾、香港、日本、美国、欧洲等机构速报
（2）气象预警：气象部门发布的暴雨、大风等预警，可带预警图片
（3）日本气象厅地震情报、海啸预报：日本气象厅地震情报及海啸预报
（4）Wolfx 速报：Wolfx 提供的速报数据，默认关闭

可根据需要勾选或取消勾选对应数据源，以控制信息来源范围。

3. 翻译

启用翻译：开启后，会使用百度翻译接口对地震信息中的地名等进行翻译。需在下方填写百度翻译 API 的 AppID 和密钥。

地名修正：使用程序内置的常用地名对照表，对部分地名进行规范化显示。与百度翻译二选一使用，默认开启。若关闭地名修正并启用翻译，则需配置百度 API。

百度 AppID、密钥：使用百度翻译接口时，需在百度开放平台申请并填写 AppID 与密钥。仅在启用翻译且未使用地名修正时生效。

4. 日志

输出日志到文件：开启后，程序运行时的状态、连接、消息等会写入日志文件，便于排查问题或追踪运行情况。

启动时清空日志：开启后，每次启动软件会清空上一次的日志内容，从新一次运行开始记录；关闭则追加写入，保留历史记录。

按日期分割日志：开启后，日志按日期分文件保存（如 log_20250219.txt），便于按天查看和管理。

日志最大大小：单个日志文件的最大容量（单位 MB）。超过后程序会进行轮转或清理，避免占用过多磁盘空间。

五、常见问题

Q：启动后一直显示"系统运行中，等待最新地震信息..."？
A：说明当前没有新的地震预警或速报数据，属正常现象。请检查网络是否正常，或尝试在设置中开启更多数据源。

Q：修改了数据源，为什么没有变化？
A：数据源变更后必须重启软件才能生效。

Q：时区、渲染方式修改后为什么没变化？
A：这两项需要重启软件后才会生效。

Q：如何让非预警时只显示自己想说的话？
A：在「数据源」中选择「自定义文本」，在「外观与显示」页的「自定义文本」框中输入内容并保存即可。

Q：窗口可以置顶吗？
A：当前版本未提供置顶功能，您可拖动窗口到想要的位置。

Q：如何关闭程序？
A：右键点击窗口 → 选择「退出」，或直接关闭窗口。
